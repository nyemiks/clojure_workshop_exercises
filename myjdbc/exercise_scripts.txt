(require '[clojure.java.jdbc :as jdbc]
'[hikari-cp.core :as hikari])


(def db {:datasource (hikari/make-datasource {:jdbc-url "jdbc:derby:derby-local;create=true"})})



(def create-app-user-ddl "CREATE TABLE app_user (
id INT GENERATED ALWAYS AS IDENTITY CONSTRAINT USER_ID_PK PRIMARY KEY,
first_name VARCHAR(32),
surname VARCHAR(32),
height SMALLINT,
weight SMALLINT)")


(def create-activity-ddl "CREATE TABLE activity (
id INT PRIMARY KEY GENERATED ALWAYS AS IDENTITY,
activity_type VARCHAR(32),
distance DECIMAL(5,2),
duration INT,
user_id INT REFERENCES app_user ON DELETE CASCADE)")